# The name of your worker project
name = "r2-secure-dir-indexer"

# The path to your Worker script (renamed from index.js)
main = "worker.js"

# Worker type should be "module" for modern JavaScript imports/exports
type = "module"

# Sets the minimum compatible date for the Worker runtime environment
# Use a recent date for modern features and consistency
compatibility_date = "2024-05-15"

---
# üíæ R2 Bucket Binding
# This section tells the worker to connect to an R2 bucket
[[r2_buckets]]
# 'R2' must match the variable name used in the worker.js script (env.R2)
binding = "R2" 
# REPLACE THIS with the actual name of your R2 bucket
bucket_name = "my-support-files-bucket" 

---
# üåç Environment Variables (Non-Secret)
[vars]
# 'ROOT' provides the base URL for direct file downloads.
# REPLACE THIS with your R2 public access domain or custom domain.
ROOT = "https://pub-yourbucketid.r2.dev" 

# --- Notes on Secrets (Token Definitions) ---
# Secrets like TOKEN_ and TOKEN_CLIENT_A_ are NOT placed here.
# They must be added using the Cloudflare dashboard or Wrangler CLI:
# wrangler secret put TOKEN_
# wrangler secret put TOKEN_CLIENT_A_
